{"version":3,"sources":["TrainerDateValidator.js"],"names":[],"mappings":";;;;;;;;;IAGM,oBAAoB;AAEX,aAFT,oBAAoB,CAEV,YAAY,EAAC;8BAFvB,oBAAoB;;AAGlB,YAAI,CAAC,aAAa,GAAG,YAAY,CAAC;KACrC;;iBAJC,oBAAoB;;eAMd,kBAAC,oBAAoB,EAC7B;;;;;;AAQI,gBAAG,IAAI,CAAC,aAAa,IAAE,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAE,CAAC,EAAE;AACzD,uBAAO;AACH,2BAAO,EAAC,IAAI;AACZ,0BAAM,EAAC,EAAE;AACT,8BAAU,EAAC,CAAC;iBACf,CAAC;aACL,MAAI;AACD,oBAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,UAAS,WAAW,EAC1D;AACI,wBAAG,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAG,oBAAoB,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAG,oBAAoB,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAC;AACxJ,+BAAO,IAAI,CAAC;qBACf;;;AAGD,wBAAG,WAAW,CAAC,SAAS,IAAG,oBAAoB,CAAC,OAAO,IAAI,oBAAoB,CAAC,OAAO,IAAE,WAAW,CAAC,SAAS,EAAC;AAC3G,+BAAO,IAAI,CAAC;qBACf;;AAED,2BAAO,KAAK,CAAC;iBAChB,CAAC,CAAC;;AAEH,oBAAG,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC;AACf,2BAAO;AACH,+BAAO,EAAC,KAAK;AACb,8BAAM,EAAC,kBAAkB;AACzB,kCAAU,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;qBAC1B,CAAC;iBACL,MACG;AACA,2BAAO;AACH,+BAAO,EAAC,IAAI;AACZ,8BAAM,EAAC,EAAE;AACT,kCAAU,EAAC,CAAC;qBACf,CAAC;iBACL;aACJ;SACJ;;;WAnDC,oBAAoB","file":"TrainerDateValidator-compiled.js","sourcesContent":["/**\r\n * Created by matthewo on 12/08/2015.\r\n */\r\nclass TrainerDateValidator{\r\n\r\n    constructor(appointments){\r\n        this._appointments = appointments;\r\n    }\r\n\r\n    validate(appointmentViewModel)\r\n    {\r\n        /*\r\n           Here we have to see if any of the trainers in the collection inside appointmentViewModel\r\n           are training in other appointments at the same time. Remember there can be more than one trainer.\r\n\r\n         */\r\n\r\n\r\n        if(this._appointments==null || this._appointments.length==0) {\r\n            return {\r\n                outcome:true,\r\n                reason:'',\r\n                conflictId:0\r\n            };\r\n        }else{\r\n            var result = this._appointments.where(function(appointment)\r\n            {\r\n                if(appointment.startDate.toString()===appointmentViewModel.startDate.toString() && appointment.endDate.toString()===appointmentViewModel.endDate.toString()){\r\n                    return true;\r\n                }\r\n\r\n                //(StartA <= EndB)  and  (EndA >= StartB)\r\n                if(appointment.startDate <=appointmentViewModel.endDate && appointmentViewModel.endDate>=appointment.startDate){\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            if(result.length>0){\r\n                return {\r\n                    outcome:false,\r\n                    reason:'This has to fail',\r\n                    conflictId:result[0].id\r\n                };\r\n            }\r\n            else{\r\n                return {\r\n                    outcome:true,\r\n                    reason:'',\r\n                    conflictId:0\r\n                };\r\n            }\r\n        }\r\n    }\r\n}"]}
{"version":3,"sources":["LocationDateValidator.js"],"names":[],"mappings":";;;;;;;;;IAGM,qBAAqB;AAEZ,aAFT,qBAAqB,CAEX,YAAY,EAAC;8BAFvB,qBAAqB;;AAGnB,YAAI,CAAC,aAAa,GAAG,YAAY,CAAC;KACrC;;iBAJC,qBAAqB;;eAMf,kBAAC,oBAAoB,EAC7B;AACI,gBAAG,IAAI,CAAC,aAAa,IAAE,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAE,CAAC,EAAE;AACzD,uBAAO;AACH,2BAAO,EAAC,IAAI;AACZ,0BAAM,EAAC,EAAE;AACT,8BAAU,EAAC,CAAC;iBACf,CAAC;aACL,MAAI;AACD,oBAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,UAAS,WAAW,EAC1D;AACG,wBAAG,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAG,oBAAoB,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAG,oBAAoB,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAC;AACvJ,+BAAO,IAAI,CAAC;qBACf;;;AAGD,wBAAG,WAAW,CAAC,SAAS,IAAG,oBAAoB,CAAC,OAAO,IAAI,oBAAoB,CAAC,OAAO,IAAE,WAAW,CAAC,SAAS,EAAC;AAC3G,+BAAO,IAAI,CAAC;qBACf;;AAED,2BAAO,KAAK,CAAC;iBAChB,CAAC,CAAC;;AAEH,oBAAG,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC;AACf,2BAAO;AACC,+BAAO,EAAC,KAAK;AACb,8BAAM,EAAC,0EAA0E;AACjF,kCAAU,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;qBAC9B,CAAC;iBACL,MACG;AACA,2BAAO;AACH,+BAAO,EAAC,IAAI;AACZ,8BAAM,EAAC,EAAE;AACT,kCAAU,EAAC,CAAC;qBACf,CAAC;iBACL;aACJ;SACJ;;;WA5CC,qBAAqB","file":"LocationDateValidator-compiled.js","sourcesContent":["/**\n * Created by matthewo on 12/08/2015.\n */\nclass LocationDateValidator{\n\n    constructor(appointments){\n        this._appointments = appointments;\n    }\n\n    validate(appointmentViewModel)\n    {\n        if(this._appointments==null || this._appointments.length==0) {\n            return {\n                outcome:true,\n                reason:'',\n                conflictId:0\n            };\n        }else{\n            var result = this._appointments.where(function(appointment)\n            {\n               if(appointment.startDate.toString()===appointmentViewModel.startDate.toString() && appointment.endDate.toString()===appointmentViewModel.endDate.toString()){\n                    return true;\n                }\n\n                //(StartA <= EndB)  and  (EndA >= StartB)\n                if(appointment.startDate <=appointmentViewModel.endDate && appointmentViewModel.endDate>=appointment.startDate){\n                    return true;\n                }\n\n                return false;\n            });\n\n            if(result.length>0){\n                return {\n                        outcome:false,\n                        reason:'There is already an appointment scheduled for this location on this date',\n                        conflictId:result[0].id\n                };\n            }\n            else{\n                return {\n                    outcome:true,\n                    reason:'',\n                    conflictId:0\n                };\n            }\n        }\n    }\n}"]}